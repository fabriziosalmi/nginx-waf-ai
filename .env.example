# Nginx WAF AI - Secure Environment Configuration
# Copy this to .env and set your values

# ============= AUTHENTICATION & SECURITY =============
# JWT Secret (REQUIRED - generate a strong secret!)
WAF_JWT_SECRET=your-super-secret-jwt-key-here-make-it-long-and-random

# Admin password (REQUIRED - change from default!)
WAF_ADMIN_PASSWORD=your-secure-admin-password-here

# ============= HTTPS/TLS CONFIGURATION =============
# Enable HTTPS (recommended for production)
WAF_USE_HTTPS=false

# SSL Certificate paths (required if HTTPS enabled)
WAF_SSL_CERT_PATH=/path/to/your/cert.pem
WAF_SSL_KEY_PATH=/path/to/your/private.key

# ============= API CONFIGURATION =============
# API server configuration
WAF_AI_HOST=127.0.0.1
WAF_AI_PORT=8000
WAF_AI_DEBUG=false

# ============= RATE LIMITING =============
# Rate limiting configuration
WAF_RATE_LIMIT_REQUESTS=100
WAF_RATE_LIMIT_WINDOW=60

# ============= CORS CONFIGURATION =============
# Allowed CORS origins (comma-separated)
WAF_CORS_ORIGINS=http://localhost:3000,http://localhost:8080

# ============= NGINX NODES =============
# Nginx nodes to monitor (comma-separated URLs)
NGINX_NODES=http://nginx-node-1:8081,http://nginx-node-2:8082

# ============= ML MODEL CONFIGURATION =============
WAF_AI_MODEL_PATH=models/waf_model.joblib
WAF_AI_THREAT_THRESHOLD=-0.5
WAF_AI_CONFIDENCE_THRESHOLD=0.8
WAF_AI_RETRAIN_INTERVAL=24

# ============= TRAFFIC COLLECTION =============
WAF_AI_COLLECTION_INTERVAL=1
WAF_AI_MAX_REQUESTS=10000
WAF_AI_CLEANUP_INTERVAL=60

# ============= WAF RULES =============
WAF_AI_RULE_EXPIRY=24
WAF_AI_MAX_RULES=100
WAF_AI_OPTIMIZE_RULES=true

# ============= NGINX MANAGEMENT =============
WAF_AI_NGINX_CONFIG_PATH=/etc/nginx/conf.d
WAF_AI_NGINX_RELOAD=sudo systemctl reload nginx
WAF_AI_DEPLOY_TIMEOUT=30

# ============= LOGGING =============
WAF_AI_LOG_LEVEL=INFO
WAF_AI_LOG_FILE=logs/waf_ai.log

# ============= MONITORING =============
WAF_AI_METRICS_ENABLED=true
WAF_AI_METRICS_PORT=9090

# ============= SSH KEY SECURITY =============
# SSH key encryption (recommended)
WAF_SSH_KEY_ENCRYPTION=true
WAF_SSH_KEY_PASSPHRASE=your-ssh-key-passphrase
